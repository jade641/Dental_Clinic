@page "/forgot-password"
@using Dental_Clinic.Services
@using Dental_Clinic.Models

<div class="auth-container">
    <div class="left-section">
 <div class="clinic-logo">
       <div class="logo-placeholder">
 <img src="css/bootstrap/Dental_Logo.png" alt="Jade Dental Clinic Logo" class="clinic-logo-img" />
       </div>
    <h1>JADE DENTAL</h1>
        <h2 class="studio-text">CLINIC</h2>
    <p class="tagline">YOUR SMILE. OUR MASTERPIECE</p>
 </div>

        <div class="hero-content">
      <h2>Reset Your <span class="gradient-text">Password</span></h2>
      <p class="hero-subtitle">Enter your email to receive a password reset link</p>
        </div>
  </div>

    <div class="right-section">
   <div class="auth-card">
        @if (!emailSent)
      {
    <h3>Forgot Password?</h3>
  <p class="auth-subtitle">No worries, we'll send you reset instructions</p>

     @if (!string.IsNullOrEmpty(errorMessage))
      {
      <div class="error-message">@errorMessage</div>
          }

       <EditForm Model="@forgotPasswordModel" OnValidSubmit="@HandleForgotPassword">
<DataAnnotationsValidator />
      <div class="form-content">
        <div class="form-group">
      <label for="email">Email Address</label>
      <div class="input-wrapper">
   <svg class="input-icon" width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 6L10 11L17 6M3 6V14C3 14.5523 3.44772 15 4 15H16C16.5523 15 17 14.5523 17 14V6M3 6C3 5.44772 3.44772 5 4 5H16C16.5523 5 17 5.44772 17 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
         </svg>
 <InputText id="email" @bind-Value="forgotPasswordModel.Email" placeholder="your.email@gmail.com" />
      </div>
      <ValidationMessage For="@(() => forgotPasswordModel.Email)" />
    </div>

 <button type="submit" class="btn-primary" disabled="@isLoading">
    @if (isLoading)
      {
    <span>Sending...</span>
}
      else
      {
              <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 6L10 11L17 6M3 6V14C3 14.5523 3.44772 15 4 15H16C16.5523 15 17 14.5523 17 14V6M3 6C3 5.44772 3.44772 5 4 5H16C16.5523 5 17 5.44772 17 6" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
       </svg>
    <span>Send Reset Link</span>
   }
    </button>
 </div>
              </EditForm>

      <div class="divider">
     <span>Remember your password?</span>
    </div>

       <button class="btn-secondary" @onclick="BackToLogin">
 <svg width="16" height="16" viewBox="0 0 20 20", fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z" stroke="currentColor" stroke-width="1.5" />
          <path d="M12 10L8 10M8 10L10 8M8 10L10 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
             </svg>
  Back to Login
        </button>
       }
            else
   {
      <div class="success-container">
 <div class="success-icon">
     <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
       <circle cx="32" cy="32" r="30" fill="#10b981" opacity="0.1"/>
   <circle cx="32" cy="32" r="24" stroke="#10b981" stroke-width="3"/>
     <path d="M22 32L28 38L42 24" stroke="#10b981" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  </div>
     <h3>Check Your Email</h3>
   <p class="success-message">
       We've sent a password reset link to <strong>@forgotPasswordModel.Email</strong>
    </p>
         <p class="auth-subtitle">
 Click the link in the email to reset your password. The link will expire in 1 hour.
         </p>
       <button class="btn-primary" @onclick="BackToLogin">
    Done
  </button>
     </div>
  }
        </div>
    </div>
</div>

<style>
    /* Import the same styles from Login.razor */
    * {
        margin: 0;
        padding: 0;
     box-sizing: border-box;
    }

    .auth-container {
        display: flex;
 min-height: 100vh;
        background: #ffffff;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
    }

  .left-section {
  flex: 1;
        background: linear-gradient(135deg, #0052D9 0%, #0070F3 50%, #00B4D8 100%);
        padding: 56px 40px;
        color: white;
     display: flex;
      flex-direction: column;
    justify-content: center;
    align-items: center;
        text-align: center;
    }

    .clinic-logo {
        margin-bottom: 28px;
    }

    .logo-placeholder {
 width: 140px;
        height: 140px;
   background: white;
        border-radius: 20px;
        display: flex;
    align-items: center;
        justify-content: center;
      margin: 0 auto 18px;
 box-shadow: 0 8px 28px rgba(0, 0, 0, 0.18);
    }

    .clinic-logo-img {
width: 65%;
     height: 70%;
   object-fit: contain;
        transform: scale(1.4);
    }

    .clinic-logo h1 {
        font-size: 30px;
        font-weight: 800;
     letter-spacing: 2px;
    }

    .studio-text {
  font-size: 22px;
        font-weight: 700;
   letter-spacing: 3px;
        margin: 0 0 10px 0;
    }

    .tagline {
      font-size: 12px;
        letter-spacing: 2px;
        opacity: 0.85;
        font-weight: 500;
    }

    .hero-content h2 {
     font-size: 48px;
        font-weight: 800;
        line-height: 1.1;
        margin-bottom: 12px;
    }

.gradient-text {
      background: linear-gradient(90deg, #00D4FF 0%, #00E5FF 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
     background-clip: text;
  }

    .hero-subtitle {
  font-size: 18px;
      font-weight: 600;
     opacity: 0.95;
 }

    .right-section {
        flex: 1;
    display: flex;
        align-items: center;
        justify-content: center;
  padding: 24px;
  background: #f8f9fa;
    }

    .auth-card {
        background: white;
        border-radius: 14px;
     padding: 32px;
        width: 100%;
        max-width: 440px;
      box-shadow: 0 4px 18px rgba(0, 0, 0, 0.08);
    }

    .auth-card h3 {
    font-size: 26px;
    font-weight: 700;
 color: #1a1a1a;
        margin: 0 0 8px 0;
     text-align: center;
    }

    .auth-subtitle {
        font-size: 14px;
        color: #666;
        margin: 0 0 24px 0;
    text-align: center;
    }

    .form-content {
        animation: fadeIn 0.3s ease-out;
    }

    @@keyframes fadeIn {
        from {
  opacity: 0;
        }
        to {
      opacity: 1;
   }
    }

    .form-group {
        margin-bottom: 16px;
    }

    .form-group label {
      display: block;
        font-size: 13px;
     font-weight: 600;
        color: #333;
    margin-bottom: 8px;
    }

    .input-wrapper {
  position: relative;
    }

    .input-icon {
      position: absolute;
        left: 12px;
  top: 50%;
        transform: translateY(-50%);
        color: #999;
        pointer-events: none;
    }

    .input-wrapper input {
  width: 100%;
   padding: 11px 14px 11px 36px;
        border: 1.5px solid #e0e0e0;
    border-radius: 8px;
        font-size: 14px;
        transition: all 0.25s ease;
      outline: none;
 background: #fafafa;
    }

    .input-wrapper input:focus {
        border-color: #0066FF;
   background: white;
 box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.08);
    }

    .btn-primary, .btn-secondary {
width: 100%;
        padding: 13px 20px;
   border: none;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
      cursor: pointer;
   display: flex;
        align-items: center;
     justify-content: center;
      gap: 8px;
        transition: all 0.3s ease;
    }

    .btn-primary {
        background: linear-gradient(135deg, #0066FF 0%, #0052D9 100%);
    color: white;
        margin-top: 8px;
    }

  .btn-primary:hover {
   transform: translateY(-2px);
        box-shadow: 0 6px 18px rgba(0, 102, 255, 0.28);
    }

    .btn-secondary {
    background: white;
        color: #0066FF;
     border: 1.5px solid #e0e0e0;
    }

    .btn-secondary:hover {
      border-color: #0066FF;
    background: #f8f9fa;
  }

    .divider {
        display: flex;
        align-items: center;
     margin: 18px 0;
        color: #999;
 font-size: 12px;
    }

    .divider::before,
    .divider::after {
    content: '';
    flex: 1;
        height: 1px;
   background: #e0e0e0;
    }

    .divider span {
        padding: 0 14px;
    }

    .error-message {
  background: #fee;
    color: #c33;
  padding: 12px;
        border-radius: 8px;
 margin-bottom: 16px;
        font-size: 14px;
 text-align: center;
}

    .success-container {
        text-align: center;
        padding: 20px 0;
    }

    .success-icon {
        margin: 0 auto 24px;
     display: flex;
        justify-content: center;
    }

    .success-message {
  font-size: 15px;
      color: #333;
      margin: 16px 0;
      line-height: 1.6;
    }

    .success-message strong {
        color: #0066FF;
    }
</style>
